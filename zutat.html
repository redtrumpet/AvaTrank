<div class="page-header">
    <h1>{{zutat._id}}
      <button class="btn btn-danger pull-right" href="#deleteZutatModal" data-toggle="modal">
        Zutat entfernen
      </button>
    </h1>
</div>

<div class="row">
  <div class="col-md-offset-1 col-md-5 col-sm-6">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">Tr&auml;nke</h4>
      </div>
      <div class="list-group">
        <a href="#/trank/{{trank.id}}" class="list-group-item"
            ng-repeat="trank in traenke">
          {{trank.id}}
        </a>
      </div>
    </div>
  </div>
  <div class="col-md-5 col-sm-6">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">Wirkungen</h4>
      </div>
      <ul class="list-group">
        <li class="list-group-item" ng-repeat="wirkung in zutat.wirkungen">
          <button class="close" ng-click="deleteWirkung($index)">
            &times;
          </button>
          <a href="#/wirkung/{{wirkung}}">{{wirkung}}</a>
        </li>
      </ul>
      <div class="panel-footer">
        <button class="btn btn-default btn-sm" ng-click="addWirkung()">
          Wirkung(en) hinzuf&uuml;gen
        </button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="addWirkungModal">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Neue Wirkungen fÃ¼r {{zutat._id}}</h4>
      </div>
      <form class="form-horizontal" ng-submit="saveZutat()">
        <div class="modal-body">
          <div class="form-group">
            <div class="col-lg-2 control-label">
              <label for="newZutatWirk">
                Wirkungen
              </label>
              <p class="small">
                Hier kannst du einfach die Antwort eines Druiden reinkopieren.
              </p>
            </div>
            <div class="col-lg-7">
              <textarea class="form-control small" id="newZutatWirk"
                rows="10" ng-model="wirkungenText"></textarea>
            </div>
            <div class="col-lg-3">
              <h5>Wirkungen</h5>
              <ul class="list-group small">
                <li class="list-group-item"
                    ng-repeat="wirk in wirkungenText| filterBulkWirk">
                  {{wirk}}
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-default" type="button"
              data-dismiss="modal">
            Abbrechen
          </button>
          <button class="btn btn-primary" type="submit">
            Hinzuf&uuml;gen
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<div class="modal fade" id="deleteZutatModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Zutat {{zutat._id}} l&ouml;schen</h4>
      </div>
      <form class="form-horizontal" ng-submit="deleteZutat()">
        <div class="modal-body">
          <p>
            <strong>Achtung! M&ouml;chtest du die Zutat {{zutat._id}} wirklich l&ouml;schen?</strong>
          </p>
          <p>
            Hinweis: Dies wird nur die Zutat mit ihren Wirkungen l&ouml;schen.
            Bestehende Eintr&auml;ge bei Tr&auml;nken bleiben erhalten.
          </p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-default" type="button"
              data-dismiss="modal" ng-click="deleteZutat()">
            Abbrechen
          </button>
          <button class="btn btn-danger" type="submit">
            L&ouml;schen
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

